/**
* Popr 2.0.0
* Copyright (c) 2015 Tipue
* popr is released under the MIT License
* http://www.tipue.com/popr
* https://github.com/foo123/Popr2
**/
!function(t){"use strict";function e(){var t="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(t?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(t?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(t?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(t?document.documentElement.clientHeight:document.body.clientHeight)}}function o(t){var e=t.getBoundingClientRect(),o=document.body,n=window,p=o.clientTop||0,i=o.clientLeft||0,c=n.pageYOffset||o.scrollTop,r=n.pageXOffset||o.scrollLeft,d=e.top+c-p,a=e.left+r-i;return{top:d,left:a,width:t.offsetWidth,height:t.offsetHeight}}t.fn.popr2=function(n){var p=t.extend({selector:".popr",activate:"click",attribute:"data-popr",speed:300,mode:"bottom"},n||{});p.selector=p.selector||".popr",p.activate=p.activate||"click",p.attribute=p.attribute||"data-popr",t(this).on(p.activate,p.selector,function(n){n.stopPropagation();var i=this,c=t(i);t(".popr_container").remove();var r=p.mode,d=c.attr("data-popr-mode");d&&(r=d);var a=t('<div class="popr_container popr_container_'+r+'"><div class="popr_point"><div class="popr_content">'+t("#"+c.attr(p.attribute)).html()+"</div></div></div>").appendTo("body"),l=o(i),u=e(),s=a.outerWidth(),m=a.outerHeight(),f=l.top+l.height,h=l.left+(l.width-s)/2;("top"==r||f+m>u.t+u.h)&&(f-=l.height+m,"bottom"==r&&(r="top",a.removeClass("popr_container_bottom").addClass("popr_container_top"))),h+s>u.l+u.w&&(h-=s),a.css({left:h+"px",top:f+"px"}).fadeIn(p.speed),t("body").on("mouseup.popr2 keyup.popr2",function(e){("mouseup"===e.type||27===e.which)&&(t("body").off("mouseup.popr2 keyup.popr2"),setTimeout(function(){t(".popr_container").remove()},40))})})}}(jQuery);